<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style>
			table {
				border: 1px solid #ccc;
				border-collapse: collapse;
			}
			th,
			td {
				border: 1px solid #ccc;
				padding: 10px 16px;
				text-align: center;
			}
			th {
				background-color: #eee;
			}
			.count {
				margin: 0 5px;
			}
		</style>
	</head>
	<body>
		<div id="app"></div>

		<script src="../react-denpendence/react.development.js"></script>
		<script src="../react-denpendence/react-dom.development.js"></script>
		<script src="../react-denpendence/babel.min.js"></script>
		<script src="./format-utils.js"></script>

		<script type="text/babel">
			class App extends React.Component {
				constructor(props) {
					super(props);

					this.state = {
						books: [
							{
								id: 1,
								name: "飞奔向你",
								date: "2020-10",
								price: "80.00",
								count: 1,
							},
							{
								id: 2,
								name: "粒子们",
								date: "2018-10",
								price: "70.00",
								count: 1,
							},
							{
								id: 3,
								name: "她和她和她",
								date: "2020-10",
								price: "60.00",
								count: 1,
							},
							{
								id: 4,
								name: "木兰行",
								date: "2020-10",
								price: "50.00",
								count: 1,
							},
							{
								id: 5,
								name: "冠世一战",
								date: "2020-10",
								price: "90.00",
								count: 1,
							},
						],
					};
				}

				render() {
					const { books } = this.state;
					return (
						<div>
							<table>
								<thead>
									<tr>
										<th></th>
										<th>书籍名称</th>
										<th>出版日期</th>
										<th>价格</th>
										<th>购买数量</th>
										<th>操作</th>
									</tr>
								</thead>
								<tbody>
									{books.map((item, index) => {
										return (
											<tr>
												<td>{index + 1}</td>
												<td>{item.name}</td>
												<td>{item.date}</td>
												<td>{formatPrice(item.price)}</td>
												<td>
													<button>-</button>
													<span className="count">{item.count}</span>
													<button>+</button>
												</td>
												<td>
													<button>移除</button>
												</td>
											</tr>
										);
									})}
								</tbody>
							</table>
						</div>
					);
				}
			}

			ReactDOM.render(<App />, document.getElementById("app"));
		</script>
	</body>
</html>
